<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doctor App</title>
 
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
 
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer">
 
    <!-- Custom CSS -->
    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}"> -->
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
 
 
</head>
<body>
 
    <!-- Yellow Strip -->
    <div class="yellow-strip">
    <img src="static/imgs/header.jfif" alt="Logo">
    <a> Prediction System </a>
    </div>
 
    <!-- Header -->
    <!-- <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container"> -->
                <!-- If your other pages have a specific brand/logo here, include it -->
                <!-- <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto"> -->
                        <!-- Add more nav items if needed, consistent with other pages -->
                    <!-- </ul>
                </div>
            </div>
        </nav>
    </header> -->
 
    <!-- Main Content -->
    <main>
        <section class="py-5">
            <div class="container patient-details-section">
                <form id="patientForm" action="/" method="POST" class="patient-details-form">
                    <h1 class="text-center text-yellow mb-4">Enter Patient Details</h1>
                    <div class="mb-3">
                        <input class="form-control" type="text" id="PID" name="PID" placeholder="Enter patient's ID here" required>
                    </div>
                    <div class="mb-3">
                        <input class="form-control" type="text" id="PP" name="PP" placeholder="Enter patient's practice here" required>
                    </div>
                    <button id="showResponse" type="button" class="btn btn-yellow mt-3">Diagnosed Disease</button>
                    {% with messages = get_flashed_messages() %}
                    {% if messages %}
                    <div class="alert alert-success mt-3">
                        {% for message in messages %}
                            {{ message }}
                        {% endfor %}
                    </div>
                    {% endif %}
                    {% endwith %}
                </form>
            </div>
        </section>
 
        <!-- <section class="py-5">
          <div class="container">
              <div id="jsonData" class="hidden">
                  <h2 class="text-center text-yellow mb-3">Patient Information</h2>
                  <a href="#" id="jsonLink" class="text-primary">Click here to view the Patient's Information</a>
                  <div class="scrollable-json">
                      <pre id="jsonResult" class="hidden"></pre>
                  </div>
                  <button id="showResponse" type="button" class="btn btn-yellow mt-3">Diagnosed Disease</button>
              </div>
          </div>
      </section> -->
 
        <section class="py-5">
            <div class="container">
                <div class="feature-row">
                    <div class="feature-card">
                        <img src="static/imgs/Chronic_Diseases.jpg" alt="Chronic Disease" class="img-feature">
                        <h3 class="feature-title text-yellow">An Explainable Disease Surveillance System For Early Prediction of Multiple Chronic Diseases</h3>
                        <p class="feature-description">Description</p>
                    </div>
                    <div class="feature-card">
                        <img src="static/imgs/lab_testing.jpg" alt="Lab Testing" class="img-feature">
                        <h3 class="feature-title text-yellow">A Hybrid AI and Rule-Based CDSS for Disease Diagnosis and Management Using Labs</h3>
                        <p class="feature-description">Description</p>
                    </div>
                    <div class="feature-card">
                        <img src="static/imgs/pattern_mining.png" alt="Pattern Mining" class="img-feature">
                        <h3 class="feature-title text-yellow">Mining Diseases Progression Patterns for Advanced Disease Surveillance</h3>
                        <p class="feature-description">Description</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
 
    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const form = document.getElementById("patientForm");
            const showResponseButton = document.getElementById("showResponse");
       
            form.onsubmit = async function (e) {
                e.preventDefault();
       
                const formData = new FormData(form);
                const response = await fetch('/', {
                    method: 'POST',
                    body: formData
                });
       
                if (response.ok) {
                    // Optionally handle response here
                    window.location.href = "/diagnose"; // Redirect to /diagnose
                } else {
                    console.error('Failed to submit form:', response.status, response.statusText);
                }
            };
       
            // Ensure this button click works if it should handle form submission
            showResponseButton.onclick = function () {
                form.requestSubmit(); // Triggers the form submission
            };
        });
        </script>
        </body>
</html>